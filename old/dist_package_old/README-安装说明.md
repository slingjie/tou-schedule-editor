# 负荷展示和 TOU 配置工具 — 安装使用说明

---

## 📋 目录

1. [安装必备软件](#第一步安装必备软件仅首次)（仅首次）
2. [解压文件](#第二步解压文件)
3. [一键安装依赖](#第三步一键安装依赖仅首次)（仅首次）
4. [启动应用](#第四步启动应用)
5. [使用应用](#第五步使用应用)
6. [关闭应用](#第六步关闭应用)
7. [常见问题](#常见问题)

---

## 第一步：安装必备软件（仅首次）

> 💡 如果你的电脑之前已经安装过 Node.js 和 Python，可以**跳过这一步**。

### 1.1 安装 Node.js

1. 打开浏览器，访问 👉 **https://nodejs.org/**
2. 网页上有两个绿色按钮，点击**左边的「LTS」版本**按钮下载
3. 下载完成后，双击安装包
4. **一路点「Next」即可**，所有选项保持默认
5. 最后点「Finish」完成安装

### 1.2 安装 Python

1. 打开浏览器，访问 👉 **https://www.python.org/downloads/**
2. 点击页面上黄色的 **「Download Python 3.x.x」** 按钮下载
3. 下载完成后，双击安装包
4. ⚠️ **最关键的一步来了！** 安装界面底部有个复选框：

   ```
   ☑ Add Python to PATH    ← 必须勾上这个！！！
   ```

5. 勾上以后，点击 **「Install Now」** 开始安装
6. 等待安装完成，点「Close」关闭

> ⚠️ 如果忘记勾选「Add Python to PATH」，需要卸载后重新安装。

---

## 第二步：解压文件

1. 找到收到的 **ZIP 压缩包**
2. **右键** 压缩包 → 选择 **「全部解压缩」**
3. 选择一个你记得住的位置，比如 `D:\负荷分析工具\` 或者桌面
4. 点击 **「提取」** 按钮

解压后打开文件夹，你应该能看到以下文件（其中最重要的三个用 ⭐ 标出）：

```
📁 你的文件夹
├── ⭐ install.bat          ← 第一次使用时双击它
├── ⭐ start-services.bat   ← 以后每次使用双击它
├── ⭐ README-安装说明.md   ← 就是你现在看的这个文件
├── .env.local.example
├── package.json
├── backend\
├── components\
└── ...其他文件
```

---

## 第三步：一键安装依赖（仅首次）

> 💡 这一步**只在第一次使用时**运行一次。装好之后，以后每次使用只需要执行第四步。

1. 打开解压后的文件夹
2. 找到 **`install.bat`** 文件
3. **双击**它

会弹出一个黑色窗口，自动执行以下操作：
- ✅ 检查 Python 和 Node.js 是否安装
- ✅ 创建 Python 虚拟环境
- ✅ 安装后端依赖（自动使用国内镜像加速）
- ✅ 安装前端依赖（自动使用国内镜像加速）
- ✅ 生成配置文件

**整个过程大约需要 3-5 分钟**（取决于网速），请耐心等待。

当你看到下面这个提示时，就说明安装成功了：

```
==========================================
  ✅ 全部安装完成！
==========================================
```

按任意键关闭窗口即可。

> ⚠️ 如果安装过程中提示「未检测到 Python」或「未检测到 Node.js」，请回到第一步安装对应软件后，再重新双击 `install.bat`。

---

## 第四步：启动应用 🚀

1. 打开项目文件夹
2. 找到 **`start-services.bat`** 文件
3. **双击**它

会弹出 1~2 个黑色窗口（**不要关闭它们！** 它们是后台服务），等待大约 10 秒，看到类似提示：

```
✅ 已启动服务：
  - 后端窗口: backend-service（端口 8000）
  - 前端窗口: frontend-dev（端口 5173）
```

---

## 第五步：使用应用

1. 打开浏览器（推荐使用 **Chrome** 或 **Edge**）
2. 在地址栏输入：

```
http://localhost:5173
```

3. 按 **回车**，就能看到应用界面了！🎉

> 💡 可以把这个网址**收藏到书签**，方便以后快速打开。

---

## 第六步：关闭应用

使用完毕后：
- 直接 **关闭** 那些黑色的命令行窗口即可
- 或者在窗口中按 `Ctrl + C`

**下次使用**：只需要重复 **第四步**（双击 `start-services.bat`），不需要重新安装。

---

## ⚡ 快速参考卡片

| 场景 | 操作 |
|------|------|
| **第一次使用** | ① 装 Node.js + Python → ② 解压 → ③ 双击 `install.bat` → ④ 双击 `start-services.bat` |
| **以后每次使用** | 双击 `start-services.bat`，然后浏览器打开 `http://localhost:5173` |
| **关闭应用** | 关闭黑色命令行窗口 |

---

## 常见问题

### Q: 双击 `install.bat` 或 `start-services.bat` 窗口一闪就消失了？

**A：** 试试这个方法查看错误信息：
1. 在文件夹地址栏中输入 `cmd` 然后按回车（会打开命令提示符）
2. 输入 `install.bat` 回车（或 `start-services.bat` 回车）
3. 查看窗口中显示的错误信息

### Q: 安装时提示 `'python' 不是内部或外部命令`？

**A：** Python 没有加入系统路径。请卸载 Python 后重新安装，**务必勾选 "Add Python to PATH"**。

### Q: 安装时提示 `'npm' 不是内部或外部命令`？

**A：** Node.js 没安装好。请重新安装 Node.js（下载 LTS 版本），安装完后**重启电脑**再试。

### Q: `pip install` 或 `npm install` 下载很慢/失败？

**A：** 网络问题。`install.bat` 已自动使用国内镜像源加速。如果仍然失败，请检查：
- 是否连接了网络（需要联网下载依赖）
- 是否有VPN/代理软件在运行（尝试关闭后重试）

### Q: 浏览器打开 `localhost:5173` 显示空白或打不开？

**A：** 检查黑色窗口是否还开着（不能关闭）。如果不小心关了，重新双击 `start-services.bat`。

### Q: 显示「端口被占用」？

**A：** 一般不用处理，脚本会自动切换端口。如果仍有问题，**重启电脑**后再试。
